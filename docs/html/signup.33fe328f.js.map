{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,mCAMA,MAAMC,EAA+BC,SAASC,cAAc,oBACtDC,EAA+BF,SAASC,cAAc,cACtDE,EAA4BH,SAASC,cAAc,iBACnDG,EAA8BJ,SAASK,cAAc,OACrDC,EAAmCN,SAASC,cAAc,kBAChEG,EAAUG,IAAMD,EAAcE,MAC9B,MAAMC,EAAoBL,EAAUG,IACpCR,EAAUW,iBAAiB,SAAUC,IACnCA,EAAEC,iBACF,MAAMC,EAAQC,EAAAC,IAAIC,EAAAC,IAClBH,EAAAI,IAAIJ,EAAAK,MAAMN,EAAO,YAAYO,MAAMC,IACjC,IAAIC,GAAqB,EACzB,IAAK,IAAIC,KAAOF,EAASG,MACnBH,EAASG,MAAMD,GAAKE,UAAYvB,EAAWM,QAC7Cc,GAAY,GAGXA,EAMHI,MAAM,eALN,IAAI7B,EAAA8B,KAAKzB,EAAWM,MAAOL,EAAQK,MAAQR,SAASC,cAAc,WAAiCO,MAAQC,EAAYT,SAASC,cAAc,QAAgCO,OAAOoB,WACrLF,MAAM,+BACNG,aAAY,IAAMC,SAASC,QAAQ,gBAAgB","sources":["src/Module/signup.ts"],"sourcesContent":["import { User } from \"./User\";\r\nimport { db } from \"./firebase\";\r\nimport { ref, onValue, update, remove, push, get, child, getDatabase, DataSnapshot, } from \"firebase/database\";\r\n\r\n\r\n// SignUp\r\nconst newUsrBtn: HTMLButtonElement = document.querySelector('#new-user-button');\r\nconst newUsrName: HTMLInputElement = document.querySelector('#user-name');\r\nconst newPass: HTMLInputElement = document.querySelector('#new-password')\r\nconst userEmogi: HTMLImageElement = document.createElement('img');\r\nconst emogiSelector: HTMLSelectElement = document.querySelector('#emogiSelector');\r\nuserEmogi.src = emogiSelector.value;\r\nconst hantoosh: string = (userEmogi.src)\r\nnewUsrBtn.addEventListener('click', (e: Event) => {\r\n  e.preventDefault();\r\n  const dbRef = ref(db);\r\n  get(child(dbRef, `/Users/`)).then((snapshot) => {\r\n    let userExist: boolean = false;\r\n    for (let usr in snapshot.val()) {\r\n      if (snapshot.val()[usr].userName == newUsrName.value) {\r\n        userExist = true;\r\n      }\r\n    }\r\n    if (!userExist) {\r\n      new User(newUsrName.value, newPass.value, (document.querySelector('#gender') as HTMLSelectElement).value, (hantoosh), (document.querySelector('#bio') as HTMLTextAreaElement).value).sendToDb();\r\n      alert('User successfully signed up')\r\n      setInterval(() => location.replace('thread.html'), 2000)\r\n    }\r\n    else {\r\n      alert('user exist')\r\n    }\r\n  })\r\n})\r\n\r\n\r\n\r\n"],"names":["$fE1Gw","parcelRequire","$2f3e962f9537ef82$var$newUsrBtn","document","querySelector","$2f3e962f9537ef82$var$newUsrName","$2f3e962f9537ef82$var$newPass","$2f3e962f9537ef82$var$userEmogi","createElement","$2f3e962f9537ef82$var$emogiSelector","src","value","$2f3e962f9537ef82$var$hantoosh","addEventListener","e","preventDefault","dbRef","$iLhJC","ref","$bolz5","db","get","child","then","snapshot","userExist","usr","val","userName","alert","User","sendToDb","setInterval","location","replace"],"version":3,"file":"signup.33fe328f.js.map"}