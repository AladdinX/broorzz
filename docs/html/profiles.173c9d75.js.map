{"mappings":"snBAAA,IAAAA,EAAAC,EAAA,sBAGO,MAAMC,EAKXC,YACkBC,EACAC,EACCC,EACAC,EACAC,QAJDJ,SAAAA,OACAC,SAAAA,OACCC,OAAAA,OACAC,MAAAA,OACAC,IAAAA,OARZC,OAAiB,6BAEPC,KAAO,IAAIC,KAQrBC,iBAAiBC,GACtB,IAAIC,EAAyBC,SAASC,cAAc,cAChDC,EAAsBF,SAASC,cAAc,WAC7CE,EAA0BH,SAASC,cAAc,QACjDG,EAAwBJ,SAASC,cAAc,OACbD,SAASK,cAAc,UAClDC,UAAY,KAGvBP,EAAGO,UAAYC,KAAKlB,SACpBa,EAAGI,UAAYC,KAAKhB,OACpBY,EAAEG,UAAYC,KAAKd,IACnBW,EAAII,IAAMD,KAAKf,MAGViB,WACL,MAAMC,EAAY,CAChBrB,SAAUkB,KAAKlB,SACfC,SAAUiB,KAAKjB,SACfC,OAAQgB,KAAKhB,OACbE,IAAKc,KAAKd,IACVW,IAAKG,KAAKf,OAENmB,EAA2BC,EAAAC,IAAI5B,EAAA6B,GAAI,UAEnCC,EAAU,GAChBA,EAFuBR,KAAKlB,UAEVqB,EAClBE,EAAAI,OAAOL,EAAOI,GAETE,YACLjB,SAASC,cAAc,eAAeiB,UAAY,GAClDlB,SAASC,cAAc,mBAAmBiB,UAAY,GACtD,IAAIC,EAAeC,OAAO,0BAC1B,MAAMC,EAAYT,EAAAC,IAAI5B,EAAA6B,GAAI,UAAUP,KAAKlB,mBACnCiC,EAAiBV,EAAAW,KAAKF,GAAWG,IACjCC,EAAc,CAClBC,UAAWnB,KAAKZ,KAAKgC,cACnB,KACCpB,KAAKZ,KAAKiC,WAAa,GACxB,IACArB,KAAKZ,KAAKkC,aACV,MACAtB,KAAKZ,KAAKmC,WACV,IACAvB,KAAKZ,KAAKoC,aAAe,KAC3BrC,OAAQyB,EAAaa,WAEjBC,EAAY,GAClBA,EAAUX,GAAUG,EACpBb,EAAAI,OAAOK,EAAWY,GAEbC,UAAUpC,GACfE,SAASC,cAAc,eAAeiB,UAAY,GAClD,MAAMG,EAAYT,EAAAC,IAAI5B,EAAA6B,GAAI,UAAUP,KAAKlB,mBACzCuB,EAAAuB,QAAQd,GAAYe,IAClB,MAAMC,EAAaD,EAASE,MAC5B,IAAK/B,KAAKgC,YAAYF,EAAY,CAChC,IAAInC,EAAKF,SAASK,cAAc,MAChCH,EAAGsC,GAAKjC,KAAKgC,SACbrC,EAAGI,UAAY+B,EAAW9B,KAAKgC,UAAUb,UAAY,IAAMW,EAAW9B,KAAKgC,UAAU7C,OACrFM,SAASC,cAAc,GAAGH,KAAS2C,OAAOvC,OAIzCwC,WACJ1C,SAASC,cAAc,IAAIM,KAAKlB,YAAmCsD,SACpEC,QAAQC,IAAI","sources":["src/Module/User.ts"],"sourcesContent":["import { db } from \"./firebase\";\r\nimport { update, push, ref, DatabaseReference, onValue } from \"firebase/database\";\r\n\r\nexport class User {\r\n  private statusId: string;\r\n  public status: string = 'Hello im using Broorz'\r\n  public readonly id: string;\r\n  private readonly date = new Date();\r\n  constructor(\r\n    public readonly userName: string,\r\n    public readonly password: string,\r\n    private readonly gender: string,\r\n    private readonly emoji: string,\r\n    private readonly bio: string\r\n  ) { }\r\n  public createProfileDiv(divId: string) {\r\n    let h3: HTMLHeadingElement = document.querySelector('#user-name');\r\n    let h5: HTMLHeadElement = document.querySelector('#gender');\r\n    let p: HTMLParagraphElement = document.querySelector('#bio');\r\n    let img: HTMLImageElement = document.querySelector('img')\r\n    const divDeleter: HTMLButtonElement = document.createElement('button')\r\n    divDeleter.innerText = '✖️'\r\n\r\n\r\n    h3.innerText = this.userName;\r\n    h5.innerText = this.gender;\r\n    p.innerText = this.bio;\r\n    img.src = this.emoji;\r\n  }\r\n\r\n  public sendToDb(): void {\r\n    const userToAdd = {\r\n      userName: this.userName,\r\n      password: this.password,\r\n      gender: this.gender,\r\n      bio: this.bio,\r\n      img: this.emoji\r\n    }\r\n    const dbRef: DatabaseReference = ref(db, '/Users');\r\n    const newKey: string = this.userName;\r\n    const newUser = {};\r\n    newUser[newKey] = userToAdd;\r\n    update(dbRef, newUser);\r\n  }\r\n  public setStatus(): void {\r\n    document.querySelector('#old-status').innerHTML = '';\r\n    document.querySelector('#profiles-aside').innerHTML = '';\r\n    let statusPrompt = prompt(\"How do you feel today?\");\r\n    const statusRef = ref(db, `/Users/${this.userName}/status`)\r\n    const newKey: string = push(statusRef).key\r\n    const statusToAdd = {\r\n      timestamp: this.date.getFullYear() +\r\n        \" \" +\r\n        (this.date.getMonth() + 1) +\r\n        \"/\" +\r\n        this.date.getUTCDate() +\r\n        \" - \" +\r\n        this.date.getHours() +\r\n        \":\" +\r\n        this.date.getMinutes() + \": \",\r\n      status: statusPrompt.valueOf()\r\n    }\r\n    const newStatus = {};\r\n    newStatus[newKey] = statusToAdd;\r\n    update(statusRef, newStatus);\r\n  }\r\n  public getStatus(divId: string): void {\r\n    document.querySelector('#old-status').innerHTML = '';\r\n    const statusRef = ref(db, `/Users/${this.userName}/status`);\r\n    onValue(statusRef, (snapshot) => {\r\n      const statusData = snapshot.val();\r\n      for (this.statusId in statusData) {\r\n        let h5 = document.createElement('h5');\r\n        h5.id = this.statusId;\r\n        h5.innerText = statusData[this.statusId].timestamp + \" \" + statusData[this.statusId].status;\r\n        document.querySelector(`${divId}`).append(h5);\r\n      }\r\n    })\r\n  }\r\n  public clearDom(): void {\r\n    (document.querySelector(`#${this.userName}`) as HTMLHeadingElement).remove();\r\n    console.log('hello')\r\n  }\r\n}"],"names":["$bolz5","parcelRequire","$8d2074e0493cb2a2$export$1f44aaf2ec115b54","constructor","userName","password","gender","emoji","bio","status","date","Date","createProfileDiv","divId","h3","document","querySelector","h5","p","img","createElement","innerText","this","src","sendToDb","userToAdd","dbRef","$iLhJC","ref","db","newUser","update","setStatus","innerHTML","statusPrompt","prompt","statusRef","newKey","push","key","statusToAdd","timestamp","getFullYear","getMonth","getUTCDate","getHours","getMinutes","valueOf","newStatus","getStatus","onValue","snapshot","statusData","val","statusId","id","append","clearDom","remove","console","log"],"version":3,"file":"profiles.173c9d75.js.map"}